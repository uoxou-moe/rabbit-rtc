# 技術スタックメモ

rabbit-rtc で採用予定の技術や検討中の選択肢をまとめます。学習用途のプロジェクトであるため、理解しやすく拡張しやすい構成を優先します。

## 採用予定の主要技術

| 分類 | 技術 | 理由 |
| --- | --- | --- |
| フロントエンド | TypeScript / React / Vite | モダンな開発体験、学習リソースが豊富、ホットリロードに強い |
| スタイリング | Tailwind CSS または CSS Modules | 細かなデザインより開発速度を優先。Tailwind はコンポーネント化が容易 |
| 状態管理 | React Query + Context（必要に応じて） | WebRTC セッション情報や API 通信のキャッシュに有用 |
| バックエンド | Go | 高性能かつ単一バイナリでデプロイ性が高い。WebRTC ライブラリが充実 |
| WebRTC | `pion/webrtc` | Go 製で学習用途として扱いやすい。豊富なサンプルが存在 |
| シグナリング | WebSocket (Gorilla/Websocket など) | 双方向通信に必須。実装がシンプル |
| ビルド / ツール | Make, Docker (任意) | 開発コマンドの集約、環境差異の吸収 |
| ホスティング | フロント: Vercel, バックエンド: Fly.io, TURN: Fly.io `coturn` | 学習用途でも運用しやすく、無料枠/低コストで開始できる |
| テスト | フロント: Vitest / React Testing Library, バックエンド: Go `testing` | 公式ドキュメントが豊富で学習しやすく、軽量に導入可能 |

## 検討事項
- **SFU 導入**: 同時視聴者数が増加した場合に備えて `pion/ion-sfu` や mediasoup 等を調査。
- **TURN サーバ**: NAT 越えが困難な環境向けに `coturn` を採用するか検討。
- **フロントエンド UI ライブラリ**: 最低限の UI で良いが、Radix UI や Headless UI を組み合わせることで、アクセシビリティを確保。
- **配信モニタリング**: レイテンシやビットレートの表示 UI を追加するか。

## ガイドライン
- WebRTC 関連の実装は学習目的を優先し、ブラックボックス化を避けてコードを理解する。
- 必要以上のフレームワーク導入は避け、少人数開発で保守しやすい構成に留める。
- テストは Vitest（フロント）と Go `testing`（バックエンド）で順次整備し、主要機能（シグナリング、接続ハンドシェイク）の回帰テストを充実させる。

必要に応じて各技術のバージョンや設定例を追記してください。
