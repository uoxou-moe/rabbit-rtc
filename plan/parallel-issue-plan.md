# 並行開発プラン

## チェックリスト
- [x] 依存関係ドラフトを確認し並行候補を抽出
- [ ] 担当者アサインと着手スケジュールの調整
- [ ] 週次で進捗レビューとブロッカー確認

## 並行開発候補とステップ

### #11 Docker/Compose 統合
- 前提: #1/#2/#5 完了済み
- [ ] 既存 Makefile / npm scripts / Go 実行コマンドを洗い出し、Docker 化の要件を整理
- [ ] フロント/バックそれぞれの Dockerfile を作成し、開発用 `docker-compose.yml` を構築
- [ ] ローカルで `docker compose up` による動作確認と README への手順追加

### #12 自動テスト基盤拡張
- 前提: #1/#2/#3/#4 完了済み
- [ ] 既存テストのカバレッジと不足領域を棚卸し
- [ ] 優先ドメインからユニット/結合テスト雛形を追加し、CI に組み込み
- [ ] カバレッジ指標とレポート出力フローを整備

### #13 モニタリング/アラート整備
- 前提: #2/#10 完了済み
- [ ] 収集すべきメトリクス・ログ・トレースを定義
- [ ] ログ/メトリクス収集基盤（例: OpenTelemetry, Sentry）のPoCを実施
- [ ] ダッシュボード/通知ルールを設定し、運用ドキュメントに反映

### #15 コメント機能（リアルタイムチャット）
- 前提: #1/#2/#6/#7/#8 完了済み
- [ ] シグナリングとチャットメッセージ設計を整理し、API仕様を決定
- [ ] フロントの入力/表示コンポーネントを実装し、WebSocket 経由でメッセージ送受信を実装
- [ ] 最低限のモデレーション（NGワード/スロットリング等）とエラーハンドリングを追加

### #16 ユーザー認証・ログイン
- 前提: #2/#10 完了済み
- [ ] 認証方式・セッション管理方針を決定し、必要なデータモデルを設計
- [ ] 認証APIとミドルウェアを実装し、既存エンドポイントへ適用
- [ ] フロントのログインUIとエラーメッセージ表示を追加し、保護ルートを検証

### #18 TURN/SFU スパイク
- 前提: #6/#7/#8/#9 完了済み
- [ ] 現状の遅延/安定性課題を整理し、評価指標を定義
- [ ] 代表的な TURN/SFU 実装を比較検証し、PoC を実施
- [ ] 成果をレポート化し、導入判断と次アクションを提案

### #19 モバイル最適化 UI
- 前提: #1/#7/#8 完了済み
- [ ] 主要画面のモバイル UX 課題を洗い出し、改善項目を優先順位付け
- [ ] レスポンシブデザインや操作性改善（ボタンサイズ、フォント等）を実装
- [ ] 各デバイス幅での表示確認とアクセシビリティ検証を実施

### #28 peer ID 衝突対応
- 前提: #6/#7/#8/#10 完了済み
- [ ] 再現環境で現象を確認し、期待動作と例外ケースを整理
- [ ] シグナリング層での ID バリデーション/再接続フローを実装
- [ ] ログ/トースト通知の整合性を確認し、テストケースを追加

## ブロック中タスク
- #14 デプロイパイプライン整備 → #11 完了後に着手可
- #17 配信スケジュール/アーカイブ → #16 認証基盤完了待ち

## フォローアップ
- [ ] 担当者決定後、各 Issue へ本プランのリンクをコメント
- [ ] Projects に進捗列（進行中/レビュー/完了）を追加し、並行タスクの可視化を行う
